name: Actu_bot_3d ü§ñ

on:
  schedule:
    - cron: '0 7 * * *'  # Se lance √† 8h00 (Heure France)
    - cron: '0 19 * * *' # Se lance √† 20h00 (Heure France)
  workflow_dispatch:      # Permet de lancer le bot manuellement pour tester

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: R√©cup√©rer le code
        uses: actions/checkout@v3

      - name: Installer Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.9'

      - name: Installer les outils
        run: pip install requests feedparser deep-translator

      - name: Lancer le bot
        run: |
          if [ "${{ github.event.schedule }}" == "0 7 * * *" ]; then
            python bot_telegram.py matin
          else
            # Si lanc√© manuellement ou √† 20h, on envoie le soir
            python bot_telegram.py soir
          fi
